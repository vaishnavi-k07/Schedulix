/* ==========================================================================
   Responsive Design - Schedulix CSS Framework
   Mobile-First Approach
   ========================================================================== */

/* ==========================================================================
   Base Breakpoints (already defined in variables.css)
   ========================================================================== */

/*
   --breakpoint-sm: 640px   - Mobile landscape
   --breakpoint-md: 768px   - Tablet portrait
   --breakpoint-lg: 1024px  - Tablet landscape / Small desktop
   --breakpoint-xl: 1280px  - Desktop
   --breakpoint-2xl: 1536px - Large desktop
*/

/* ==========================================================================
   Mobile-First Base Styles
   ========================================================================== */

/**
 * Default styles for mobile devices
 * No media query needed - this is the default
 */

/* ==========================================================================
   Small Devices (Landscape Phones, 640px and up)
   ========================================================================== */

@media (min-width: 640px) {
  /* Container */
  .container {
    max-width: 640px;
    padding-left: var(--space-5);
    padding-right: var(--space-5);
  }

  /* Grid */
  .sm-grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .sm-grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .sm-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .sm-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }

  /* Spacing */
  .sm-m-0 { margin: var(--space-0); }
  .sm-m-1 { margin: var(--space-1); }
  .sm-m-2 { margin: var(--space-2); }
  .sm-m-3 { margin: var(--space-3); }
  .sm-m-4 { margin: var(--space-4); }
  .sm-m-6 { margin: var(--space-6); }
  .sm-m-8 { margin: var(--space-8); }

  .sm-p-0 { padding: var(--space-0); }
  .sm-p-2 { padding: var(--space-2); }
  .sm-p-4 { padding: var(--space-4); }
  .sm-p-6 { padding: var(--space-6); }

  .sm-my-4 { margin-top: var(--space-4); margin-bottom: var(--space-4); }
  .sm-my-6 { margin-top: var(--space-6); margin-bottom: var(--space-6); }
  .sm-my-8 { margin-top: var(--space-8); margin-bottom: var(--space-8); }

  .sm-py-4 { padding-top: var(--space-4); padding-bottom: var(--space-4); }
  .sm-py-6 { padding-top: var(--space-6); padding-bottom: var(--space-6); }
  .sm-py-8 { padding-top: var(--space-8); padding-bottom: var(--space-8); }

  /* Display */
  .sm-block { display: block; }
  .sm-inline-block { display: inline-block; }
  .sm-flex { display: flex; }
  .sm-inline-flex { display: inline-flex; }
  .sm-hidden { display: none; }

  /* Flex */
  .sm-flex-row { flex-direction: row; }
  .sm-flex-col { flex-direction: column; }
  .sm-flex-wrap { flex-wrap: wrap; }
  .sm-flex-nowrap { flex-wrap: nowrap; }

  .sm-justify-start { justify-content: flex-start; }
  .sm-justify-center { justify-content: center; }
  .sm-justify-between { justify-content: space-between; }
  .sm-justify-around { justify-content: space-around; }

  .sm-items-start { align-items: flex-start; }
  .sm-items-center { align-items: center; }
  .sm-items-stretch { align-items: stretch; }

  /* Typography */
  .sm-text-xs { font-size: var(--font-size-xs); }
  .sm-text-sm { font-size: var(--font-size-sm); }
  .sm-text-base { font-size: var(--font-size-base); }
  .sm-text-lg { font-size: var(--font-size-lg); }
  .sm-text-xl { font-size: var(--font-size-xl); }
  .sm-text-2xl { font-size: var(--font-size-2xl); }
  .sm-text-3xl { font-size: var(--font-size-3xl); }

  /* Width */
  .sm-w-full { width: 100%; }
  .sm-w-auto { width: auto; }
  .sm-w-1\/2 { width: 50%; }
  .sm-w-1\/3 { width: 33.333333%; }
  .sm-w-2\/3 { width: 66.666667%; }
  .sm-w-1\/4 { width: 25%; }

  /* Text alignment */
  .sm-text-left { text-align: left; }
  .sm-text-center { text-align: center; }
  .sm-text-right { text-align: right; }
}

/* ==========================================================================
   Medium Devices (Tablets, 768px and up)
   ========================================================================== */

@media (min-width: 768px) {
  /* Container */
  .container {
    max-width: 768px;
  }

  /* Grid */
  .md-grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .md-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .md-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .md-grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }

  /* Spacing */
  .md-m-0 { margin: var(--space-0); }
  .md-m-2 { margin: var(--space-2); }
  .md-m-4 { margin: var(--space-4); }
  .md-m-6 { margin: var(--space-6); }
  .md-m-8 { margin: var(--space-8); }

  .md-p-0 { padding: var(--space-0); }
  .md-p-4 { padding: var(--space-4); }
  .md-p-6 { padding: var(--space-6); }
  .md-p-8 { padding: var(--space-8); }

  .md-my-6 { margin-top: var(--space-6); margin-bottom: var(--space-6); }
  .md-my-8 { margin-top: var(--space-8); margin-bottom: var(--space-8); }
  .md-my-12 { margin-top: var(--space-12); margin-bottom: var(--space-12); }

  .md-py-6 { padding-top: var(--space-6); padding-bottom: var(--space-6); }
  .md-py-8 { padding-top: var(--space-8); padding-bottom: var(--space-8); }
  .md-py-12 { padding-top: var(--space-12); padding-bottom: var(--space-12); }

  /* Display */
  .md-block { display: block; }
  .md-inline-block { display: inline-block; }
  .md-flex { display: flex; }
  .md-inline-flex { display: inline-flex; }
  .md-hidden { display: none; }

  /* Flex */
  .md-flex-row { flex-direction: row; }
  .md-flex-col { flex-direction: column; }
  .md-flex-wrap { flex-wrap: wrap; }
  .md-flex-nowrap { flex-wrap: nowrap; }

  .md-justify-start { justify-content: flex-start; }
  .md-justify-center { justify-content: center; }
  .md-justify-between { justify-content: space-between; }
  .md-justify-around { justify-content: space-around; }

  .md-items-start { align-items: flex-start; }
  .md-items-center { align-items: center; }
  .md-items-stretch { align-items: stretch; }

  /* Typography */
  .md-text-sm { font-size: var(--font-size-sm); }
  .md-text-base { font-size: var(--font-size-base); }
  .md-text-lg { font-size: var(--font-size-lg); }
  .md-text-xl { font-size: var(--font-size-xl); }
  .md-text-2xl { font-size: var(--font-size-2xl); }
  .md-text-3xl { font-size: var(--font-size-3xl); }
  .md-text-4xl { font-size: var(--font-size-4xl); }

  /* Width */
  .md-w-full { width: 100%; }
  .md-w-auto { width: auto; }
  .md-w-1\/2 { width: 50%; }
  .md-w-1\/3 { width: 33.333333%; }
  .md-w-2\/3 { width: 66.666667%; }
  .md-w-1\/4 { width: 25%; }
  .md-w-3\/4 { width: 75%; }

  /* Text alignment */
  .md-text-left { text-align: left; }
  .md-text-center { text-align: center; }
  .md-text-right { text-align: right; }

  /* Positioning */
  .md-relative { position: relative; }
  .md-absolute { position: absolute; }
  .md-fixed { position: fixed; }
  .md-sticky { position: sticky; }

  /* Columns for layout */
  .md-col-span-1 { grid-column: span 1 / span 1; }
  .md-col-span-2 { grid-column: span 2 / span 2; }
  .md-col-span-3 { grid-column: span 3 / span 3; }
  .md-col-span-4 { grid-column: span 4 / span 4; }
  .md-col-span-6 { grid-column: span 6 / span 6; }
  .md-col-span-12 { grid-column: span 12 / span 12; }
}

/* ==========================================================================
   Large Devices (Desktops, 1024px and up)
   ========================================================================== */

@media (min-width: 1024px) {
  /* Container */
  .container {
    max-width: 1024px;
  }

  /* Grid */
  .lg-grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .lg-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .lg-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .lg-grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .lg-grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
  .lg-grid-cols-12 { grid-template-columns: repeat(12, minmax(0, 1fr)); }

  /* Spacing */
  .lg-m-0 { margin: var(--space-0); }
  .lg-m-4 { margin: var(--space-4); }
  .lg-m-6 { margin: var(--space-6); }
  .lg-m-8 { margin: var(--space-8); }
  .lg-m-12 { margin: var(--space-12); }

  .lg-p-0 { padding: var(--space-0); }
  .lg-p-4 { padding: var(--space-4); }
  .lg-p-6 { padding: var(--space-6); }
  .lg-p-8 { padding: var(--space-8); }
  .lg-p-12 { padding: var(--space-12); }

  .lg-my-8 { margin-top: var(--space-8); margin-bottom: var(--space-8); }
  .lg-my-12 { margin-top: var(--space-12); margin-bottom: var(--space-12); }
  .lg-my-16 { margin-top: var(--space-16); margin-bottom: var(--space-16); }

  .lg-py-8 { padding-top: var(--space-8); padding-bottom: var(--space-8); }
  .lg-py-12 { padding-top: var(--space-12); padding-bottom: var(--space-12); }
  .lg-py-16 { padding-top: var(--space-16); padding-bottom: var(--space-16); }

  /* Display */
  .lg-block { display: block; }
  .lg-inline-block { display: inline-block; }
  .lg-flex { display: flex; }
  .lg-inline-flex { display: inline-flex; }
  .lg-hidden { display: none; }

  /* Flex */
  .lg-flex-row { flex-direction: row; }
  .lg-flex-col { flex-direction: column; }
  .lg-flex-wrap { flex-wrap: wrap; }
  .lg-flex-nowrap { flex-wrap: nowrap; }

  .lg-justify-start { justify-content: flex-start; }
  .lg-justify-center { justify-content: center; }
  .lg-justify-between { justify-content: space-between; }
  .lg-justify-around { justify-content: space-around; }
  .lg-justify-evenly { justify-content: space-evenly; }

  .lg-items-start { align-items: flex-start; }
  .lg-items-center { align-items: center; }
  .lg-items-stretch { align-items: stretch; }

  /* Typography */
  .lg-text-base { font-size: var(--font-size-base); }
  .lg-text-lg { font-size: var(--font-size-lg); }
  .lg-text-xl { font-size: var(--font-size-xl); }
  .lg-text-2xl { font-size: var(--font-size-2xl); }
  .lg-text-3xl { font-size: var(--font-size-3xl); }
  .lg-text-4xl { font-size: var(--font-size-4xl); }
  .lg-text-5xl { font-size: var(--font-size-5xl); }

  /* Width */
  .lg-w-full { width: 100%; }
  .lg-w-auto { width: auto; }
  .lg-w-1\/2 { width: 50%; }
  .lg-w-1\/3 { width: 33.333333%; }
  .lg-w-1\/4 { width: 25%; }
  .lg-w-3\/4 { width: 75%; }

  /* Text alignment */
  .lg-text-left { text-align: left; }
  .lg-text-center { text-align: center; }
  .lg-text-right { text-align: right; }

  /* Columns */
  .lg-col-span-1 { grid-column: span 1 / span 1; }
  .lg-col-span-2 { grid-column: span 2 / span 2; }
  .lg-col-span-3 { grid-column: span 3 / span 3; }
  .lg-col-span-4 { grid-column: span 4 / span 4; }
  .lg-col-span-6 { grid-column: span 6 / span 6; }
  .lg-col-span-8 { grid-column: span 8 / span 8; }
  .lg-col-span-12 { grid-column: span 12 / span 12; }
}

/* ==========================================================================
   Extra Large Devices (Large Desktops, 1280px and up)
   ========================================================================== */

@media (min-width: 1280px) {
  /* Container */
  .container {
    max-width: 1280px;
  }

  /* Grid */
  .xl-grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .xl-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .xl-grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .xl-grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }

  /* Spacing */
  .xl-my-12 { margin-top: var(--space-12); margin-bottom: var(--space-12); }
  .xl-my-16 { margin-top: var(--space-16); margin-bottom: var(--space-16); }
  .xl-my-20 { margin-top: var(--space-20); margin-bottom: var(--space-20); }

  .xl-py-12 { padding-top: var(--space-12); padding-bottom: var(--space-12); }
  .xl-py-16 { padding-top: var(--space-16); padding-bottom: var(--space-16); }
  .xl-py-20 { padding-top: var(--space-20); padding-bottom: var(--space-20); }

  /* Typography */
  .xl-text-lg { font-size: var(--font-size-lg); }
  .xl-text-xl { font-size: var(--font-size-xl); }
  .xl-text-2xl { font-size: var(--font-size-2xl); }
  .xl-text-3xl { font-size: var(--font-size-3xl); }
  .xl-text-4xl { font-size: var(--font-size-4xl); }
  .xl-text-5xl { font-size: var(--font-size-5xl); }
}

/* ==========================================================================
   Extra Extra Large Devices (1920px and up)
   ========================================================================== */

@media (min-width: 1536px) {
  .xxl-grid-cols-4 { grid-template-columns: repeat(4, minmax(0, 1fr)); }
  .xxl-grid-cols-5 { grid-template-columns: repeat(5, minmax(0, 1fr)); }
  .xxl-grid-cols-6 { grid-template-columns: repeat(6, minmax(0, 1fr)); }
}

/* ==========================================================================
   Mobile-First Responsive Utilities
   ========================================================================== */

/* Hide on mobile, show on larger screens */
@media (max-width: 639px) {
  .hide-on-mobile {
    display: none !important;
  }
}

@media (max-width: 767px) {
  .hide-on-tablet-portrait {
    display: none !important;
  }
}

@media (max-width: 1023px) {
  .hide-on-tablet {
    display: none !important;
  }
}

/* Show on mobile only, hide on larger screens */
@media (min-width: 640px) {
  .mobile-only {
    display: none !important;
  }
}

/* ==========================================================================
   Mobile Navigation / Hamburger Menu
   ========================================================================== */

/**
 * Mobile menu button (hamburger)
 */
.mobile-menu-btn {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 1.5rem;
  height: 1.25rem;
  padding: 0;
  background: transparent;
  border: none;
  cursor: pointer;
}

.mobile-menu-btn span {
  display: block;
  width: 100%;
  height: 2px;
  background-color: var(--color-text-primary);
  border-radius: 2px;
  transition: var(--transition-default);
}

.mobile-menu-btn[aria-expanded="true"] span:nth-child(1) {
  transform: translateY(0.5rem) rotate(45deg);
}

.mobile-menu-btn[aria-expanded="true"] span:nth-child(2) {
  opacity: 0;
}

.mobile-menu-btn[aria-expanded="true"] span:nth-child(3) {
  transform: translateY(-0.5rem) rotate(-45deg);
}

@media (max-width: 1023px) {
  .mobile-menu-btn {
    display: flex;
  }
}

/**
 * Mobile menu overlay
 */
.mobile-menu-overlay {
  display: none;
  position: fixed;
  inset: 0;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: var(--z-30);
  opacity: 0;
  transition: opacity var(--transition-duration-normal);
}

.mobile-menu-overlay.is-open {
  display: block;
  opacity: 1;
}

/**
 * Mobile menu panel
 */
.mobile-menu {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 280px;
  max-width: 80vw;
  background-color: var(--color-bg-primary);
  z-index: var(--z-40);
  transform: translateX(-100%);
  transition: transform var(--transition-duration-normal);
  overflow-y: auto;
}

.mobile-menu.is-open {
  transform: translateX(0);
}

@media (min-width: 1024px) {
  .mobile-menu-btn,
  .mobile-menu-overlay,
  .mobile-menu {
    display: none !important;
  }
}

/* ==========================================================================
   Mobile-First Layout Patterns
   ========================================================================== */

/**
 * Stack layout - stacks vertically on mobile, side-by-side on larger screens
 */
.stack-layout {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

@media (min-width: 768px) {
  .stack-layout {
    flex-direction: row;
  }

  .stack-layout > * {
    flex: 1;
  }
}

/**
 * Sidebar layout - sidebar hidden on mobile, shown on larger screens
 */
.sidebar-layout {
  display: flex;
  flex-direction: column;
}

.sidebar-layout-main {
  flex: 1;
}

@media (min-width: 1024px) {
  .sidebar-layout {
    flex-direction: row;
  }

  .sidebar-layout-sidebar {
    width: 280px;
    flex-shrink: 0;
  }
}

/**
 * Card grid - single column on mobile, multi-column on larger screens
 */
.card-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-4);
}

@media (min-width: 640px) {
  .card-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (min-width: 1024px) {
  .card-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

@media (min-width: 1280px) {
  .card-grid {
    grid-template-columns: repeat(4, 1fr);
  }
}

/**
 * Form layout - full width on mobile, inline on larger screens
 */
.form-row {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
}

@media (min-width: 768px) {
  .form-row {
    flex-direction: row;
  }

  .form-row > * {
    flex: 1;
  }
}

/* ==========================================================================
   Mobile-First Component Adjustments
   ========================================================================== */

/**
 * Navbar - adjust for mobile
 */
.navbar {
  padding: var(--space-2) var(--space-4);
}

@media (min-width: 1024px) {
  .navbar {
    padding: var(--space-3) var(--space-6);
  }
}

/**
 * Cards - full width on mobile
 */
.card {
  border-radius: var(--radius-lg);
}

@media (min-width: 768px) {
  .card {
    border-radius: var(--radius-xl);
  }
}

/**
 * Tables - scrollable on mobile
 */
.table-wrapper {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@media (max-width: 767px) {
  .table-wrapper {
    margin-left: calc(var(--space-4) * -1);
    margin-right: calc(var(--space-4) * -1);
    padding-left: var(--space-4);
    padding-right: var(--space-4);
    border-left: none;
    border-right: none;
    border-radius: 0;
  }
}

/**
 * Buttons - full width on mobile for important actions
 */
.btn-full-mobile {
  width: 100%;
}

@media (min-width: 640px) {
  .btn-full-mobile {
    width: auto;
  }
}

/**
 * Modals - full screen on mobile
 */
.modal {
  max-width: calc(100vw - var(--space-4));
  max-height: calc(100vh - var(--space-4));
  border-radius: var(--radius-lg);
}

@media (min-width: 768px) {
  .modal {
    max-width: var(--container-md);
    border-radius: var(--radius-xl);
  }
}

/**
 * Modal footer actions - stack on mobile
 */
.modal-footer {
  flex-direction: column-reverse;
  gap: var(--space-2);
}

.modal-footer .btn {
  width: 100%;
}

@media (min-width: 768px) {
  .modal-footer {
    flex-direction: row;
    justify-content: flex-end;
  }

  .modal-footer .btn {
    width: auto;
  }
}

/* ==========================================================================
   Print Styles
   ========================================================================== */

@media print {
  .no-print {
    display: none !important;
  }

  .print-only {
    display: block !important;
  }

  .container {
    max-width: none;
    padding: 0;
  }

  .sidebar,
  .navbar,
  .footer {
    display: none !important;
  }

  .main-content {
    margin-left: 0;
  }

  /* Ensure tables fit on printed pages */
  .table-wrapper {
    overflow: visible;
  }

  .table {
    page-break-inside: auto;
  }

  .table tr {
    page-break-inside: avoid;
    page-break-after: auto;
  }

  .table thead {
    display: table-header-group;
  }

  .table tfoot {
    display: table-footer-group;
  }

  /* Ensure cards print nicely */
  .card {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #000;
  }

  body {
    font-size: 12pt;
    line-height: 1.5;
    color: #000;
    background: #fff;
  }

  a {
    text-decoration: underline;
  }

  a[href]::after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
    color: #666;
  }
}

/* ==========================================================================
   Dark Mode Support
   ========================================================================== */

@media (prefers-color-scheme: dark) {
  /* Adjustments for dark mode if not using CSS variables */

  /* Invert colors for dark mode if needed */
  .dark-invert {
    filter: invert(1);
  }

  /* Preserve colors for icons/charts */
  .dark-no-invert {
    filter: invert(0);
  }
}

/* ==========================================================================
   Reduced Motion Support
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Disable smooth scrolling */
  html {
    scroll-behavior: auto;
  }

  /* Reset any transform animations */
  .animate-fade-in-up,
  .animate-fade-in-down,
  .animate-scale-in,
  .animate-slide-in-left,
  .animate-slide-in-right,
  .hover-lift,
  .hover-scale,
  .animate-on-scroll {
    transform: none !important;
    opacity: 1 !important;
  }
}

/* ==========================================================================
   High Contrast Mode Support
   ========================================================================== */

@media (prefers-contrast: high) {
  :root {
    --color-border-default: #000;
    --color-text-primary: #000;
    --color-bg-primary: #fff;
  }

  .btn {
    border-width: 2px;
  }

  .btn-primary {
    border: 2px solid #000;
  }

  .card {
    border: 2px solid #000;
  }

  input,
  select,
  textarea {
    border: 2px solid #000;
  }
}

/* ==========================================================================
   Touch Device Support
   ========================================================================== */

/**
 * Larger touch targets for touch devices
 * Note: This assumes JavaScript detection or can be enabled via class
 */
.touch-targets .btn {
  min-height: 44px;
  min-width: 44px;
}

.touch-targets .form-input {
  min-height: 44px;
}

.touch-targets .nav-link {
  min-height: 44px;
}

.touch-targets .sidebar-link {
  min-height: 44px;
}

/* ==========================================================================
   Landscape Orientation
   ========================================================================== */

@media (orientation: landscape) and (max-height: 500px) {
  .modal {
    max-height: 90vh;
  }

  .card {
    padding: var(--space-3);
  }

  .card-body {
    padding: var(--space-3);
  }
}
